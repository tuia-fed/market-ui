<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>大转盘 | MarketUI</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/market-ui/favicon.ico">
    <meta name="description" content="丰富、可靠的移动端营销互动组件库">
    
    <link rel="preload" href="/market-ui/assets/css/0.styles.5c00ebcc.css" as="style"><link rel="preload" href="/market-ui/assets/js/app.b0f98d71.js" as="script"><link rel="preload" href="/market-ui/assets/js/2.4653ba6f.js" as="script"><link rel="preload" href="/market-ui/assets/js/17.26d8c81d.js" as="script"><link rel="prefetch" href="/market-ui/assets/js/10.9360c0e0.js"><link rel="prefetch" href="/market-ui/assets/js/11.e58cd9a1.js"><link rel="prefetch" href="/market-ui/assets/js/12.e802dc0b.js"><link rel="prefetch" href="/market-ui/assets/js/13.3a62693a.js"><link rel="prefetch" href="/market-ui/assets/js/14.fc7e3cd4.js"><link rel="prefetch" href="/market-ui/assets/js/15.30edd07e.js"><link rel="prefetch" href="/market-ui/assets/js/16.2d7941e9.js"><link rel="prefetch" href="/market-ui/assets/js/18.bda63d9b.js"><link rel="prefetch" href="/market-ui/assets/js/19.a879bb82.js"><link rel="prefetch" href="/market-ui/assets/js/20.5998f42a.js"><link rel="prefetch" href="/market-ui/assets/js/21.1c927a39.js"><link rel="prefetch" href="/market-ui/assets/js/22.0564ee28.js"><link rel="prefetch" href="/market-ui/assets/js/23.b09f50f3.js"><link rel="prefetch" href="/market-ui/assets/js/24.b3eaa8e6.js"><link rel="prefetch" href="/market-ui/assets/js/25.e2db1096.js"><link rel="prefetch" href="/market-ui/assets/js/3.ab4c66a6.js"><link rel="prefetch" href="/market-ui/assets/js/4.0089d6d9.js"><link rel="prefetch" href="/market-ui/assets/js/5.630e8b01.js"><link rel="prefetch" href="/market-ui/assets/js/6.90e38288.js"><link rel="prefetch" href="/market-ui/assets/js/7.1a74eae0.js"><link rel="prefetch" href="/market-ui/assets/js/8.d8eed800.js"><link rel="prefetch" href="/market-ui/assets/js/9.4f42fb5d.js">
    <link rel="stylesheet" href="/market-ui/assets/css/0.styles.5c00ebcc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="tuia-doc-container"><div class="tuia-doc-navbar" data-v-27201a4e><div class="tuia-doc-row" data-v-27201a4e><div class="tuia-doc-header__top" data-v-27201a4e><a href="/market-ui" class="tuia-doc-header__logo" data-v-27201a4e><img src="/market-ui/assets/img/logo.d6ecbd8a.png" alt data-v-27201a4e> <span data-v-27201a4e>MarketUI</span></a> <ul class="tuia-doc-header__top-nav" data-v-27201a4e><li data-v-27201a4e><div class="search-box" data-v-27201a4e><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></li> <li class="tui-doc-header__top-nav-item" data-v-27201a4e><a href="https://github.com/tuia-fed/market-ui" target="_blank" data-v-27201a4e><img src="/market-ui/assets/img/github.9c166969.svg" alt data-v-27201a4e> <p data-v-27201a4e>Github</p></a></li></ul></div></div></div> <div class="tuia-doc-sidebar" style="top:60px;" data-v-03e8748a><div class="tuia-doc-sidebar__group" data-v-03e8748a><div class="tuia-doc-sidebar__title" data-v-03e8748a>引导</div> <div class="tuia-doc-sidebar__item" data-v-03e8748a><a href="/market-ui/guide/install" data-v-03e8748a>快速上手</a></div><div class="tuia-doc-sidebar__item" data-v-03e8748a><a href="/market-ui/guide/get-started" data-v-03e8748a>开发指南</a></div><div class="tuia-doc-sidebar__item" data-v-03e8748a><a href="/market-ui/guide/resolution" data-v-03e8748a>屏幕适配</a></div><div class="tuia-doc-sidebar__item" data-v-03e8748a><a href="/market-ui/guide/basic-rule" data-v-03e8748a>基础玩法组件</a></div><div class="tuia-doc-sidebar__item" data-v-03e8748a><a href="/market-ui/guide/presets" data-v-03e8748a>变体与预设</a></div><div class="tuia-doc-sidebar__item" data-v-03e8748a><a href="/market-ui/guide/changelog" data-v-03e8748a>更新日志</a></div></div><div class="tuia-doc-sidebar__group" data-v-03e8748a><div class="tuia-doc-sidebar__title" data-v-03e8748a>基础玩法组件</div> <div class="tuia-doc-sidebar__item" data-v-03e8748a><div class="tuia-doc-sidebar__subtitle" data-v-03e8748a>大转盘系列</div></div><div class="tuia-doc-sidebar__item" data-v-03e8748a><a href="/market-ui/components/Wheel" aria-current="page" class="router-link-exact-active router-link-active" data-v-03e8748a>大转盘</a></div><div class="tuia-doc-sidebar__item" data-v-03e8748a><a href="/market-ui/components/WheelFoundation" data-v-03e8748a>基座大转盘</a></div><div class="tuia-doc-sidebar__item" data-v-03e8748a><a href="/market-ui/components/SquareWheel" data-v-03e8748a>方形转盘</a></div><div class="tuia-doc-sidebar__item" data-v-03e8748a><a href="/market-ui/components/Wheel3D" data-v-03e8748a>3D转盘</a></div><div class="tuia-doc-sidebar__item" data-v-03e8748a><div class="tuia-doc-sidebar__subtitle" data-v-03e8748a>翻牌子系列</div></div><div class="tuia-doc-sidebar__item" data-v-03e8748a><a href="/market-ui/components/TurnCard" data-v-03e8748a>翻牌子</a></div><div class="tuia-doc-sidebar__item" data-v-03e8748a><a href="/market-ui/components/OpenBox" data-v-03e8748a>开礼盒</a></div><div class="tuia-doc-sidebar__item" data-v-03e8748a><a href="/market-ui/components/SkyLanterns" data-v-03e8748a>孔明灯</a></div><div class="tuia-doc-sidebar__item" data-v-03e8748a><a href="/market-ui/components/HitEgg" data-v-03e8748a>砸金蛋</a></div><div class="tuia-doc-sidebar__item" data-v-03e8748a><div class="tuia-doc-sidebar__subtitle" data-v-03e8748a>套圈系列</div></div><div class="tuia-doc-sidebar__item" data-v-03e8748a><a href="/market-ui/components/Ringtoss" data-v-03e8748a>套圈</a></div><div class="tuia-doc-sidebar__item" data-v-03e8748a><div class="tuia-doc-sidebar__subtitle" data-v-03e8748a>其他</div></div><div class="tuia-doc-sidebar__item" data-v-03e8748a><a href="/market-ui/components/ScratchCard" data-v-03e8748a>刮刮卡</a></div><div class="tuia-doc-sidebar__item" data-v-03e8748a><a href="/market-ui/components/Gashapon" data-v-03e8748a>扭蛋机</a></div></div><div class="tuia-doc-sidebar__group" data-v-03e8748a><div class="tuia-doc-sidebar__title" data-v-03e8748a>特殊玩法组件</div> <div class="tuia-doc-sidebar__item" data-v-03e8748a><a href="/market-ui/components/GiftRain" data-v-03e8748a>红包雨</a></div></div></div> <div class="tuia-doc-container" data-v-7177873e><div class="tuia-doc-content" style="min-height:-135px;" data-v-7177873e><section data-v-7177873e><div class="content__default"><h1 id="大转盘"><a href="#大转盘" class="header-anchor">#</a> 大转盘</h1> <p>最古老的玩法之一，开始可以慢速转动。用户交互之后，让转盘快速转起来，并逐渐停留到某个位置。支持<strong>不均分</strong>转盘。其为<code>可控组件</code>（详细说明可查看<a href="../../guide/basic-rule">基础玩法组件逻辑规范</a>）</p> <p>另外，一个大转盘主要由<strong>底盘</strong>、<strong>灯光</strong>、<strong>转盘</strong>、<strong>指针</strong>、<strong>开始按钮</strong>等组成</p> <h2 id="按需引入"><a href="#按需引入" class="header-anchor">#</a> 按需引入</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Wheel <span class="token keyword">from</span> <span class="token string">'@tuia/market-ui/lib/Wheel'</span>
<span class="token keyword">import</span> <span class="token string">'@tuia/market-ui/lib/Wheel/style'</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Wheel<span class="token punctuation">)</span>
</code></pre></div><h2 id="代码演示"><a href="#代码演示" class="header-anchor">#</a> 代码演示</h2> <h3 id="普通形式"><a href="#普通形式" class="header-anchor">#</a> 普通形式</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mk-wheel</span>
  <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wheel<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:prizeList</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>prizeList<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">@clickStart</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clickStart<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">/&gt;</span></span>
</code></pre></div><details><summary>点击展开js部分代码</summary> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      prizeList<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          title<span class="token operator">:</span> <span class="token string">'一等奖'</span><span class="token punctuation">,</span>
          image<span class="token operator">:</span> <span class="token string">'//yun.tuisnake.com/mami-media/img/50d7608a-ociowk8pm5.png'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          title<span class="token operator">:</span> <span class="token string">'二等奖'</span><span class="token punctuation">,</span>
          image<span class="token operator">:</span> <span class="token string">'//yun.tuisnake.com/mami-media/img/691aa62e-d5xwaga1hn.png'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          title<span class="token operator">:</span> <span class="token string">'三等奖'</span><span class="token punctuation">,</span>
          image<span class="token operator">:</span> <span class="token string">'//yun.tuisnake.com/h5-mami/couponPrize/lucky.png'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          title<span class="token operator">:</span> <span class="token string">'四等奖'</span><span class="token punctuation">,</span>
          image<span class="token operator">:</span> <span class="token string">'//yun.tuisnake.com/mami-media/img/8ecabe26-iq6wlrhpam.png'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          title<span class="token operator">:</span> <span class="token string">'五等奖'</span><span class="token punctuation">,</span>
          image<span class="token operator">:</span> <span class="token string">'//yun.tuisnake.com/mami-media/img/570a6594-vhcb3jmuz8.png'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          title<span class="token operator">:</span> <span class="token string">'谢谢参与'</span><span class="token punctuation">,</span>
          image<span class="token operator">:</span> <span class="token string">'//yun.tuisnake.com/h5-mami/couponPrize/thanks.png'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token keyword">async</span> <span class="token function">clickStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> wheel <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>wheel<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>wheel<span class="token punctuation">.</span>isWaitStart<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">await</span> wheel<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// ... 一些操作</span>
      <span class="token comment">// 传入需要停止的奖品索引</span>
      <span class="token keyword">await</span> wheel<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">{</span> index<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 判断是否还可以继续玩</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">await</span> wheel<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// 不可玩就禁用</span>
        <span class="token keyword">await</span> wheel<span class="token punctuation">.</span><span class="token function">disable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></details> <h3 id="高级定制-不均分转盘"><a href="#高级定制-不均分转盘" class="header-anchor">#</a> 高级定制（不均分转盘）</h3> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mk-wheel</span>
  <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wheel<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>baseConfig<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:prizeList</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>prizeList<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">@clickStart</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clickStart<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#light</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 去掉灯光 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#prize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ index, item }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 定制奖品4样式 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index === 3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>word<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ item.title }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mk-wheel</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><details><summary>点击展开js部分代码</summary> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token comment">// 静态配置可以 freeze 来减少vue监听 （非必需）</span>
      baseConfig<span class="token operator">:</span> Object<span class="token punctuation">.</span><span class="token function">freeze</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token comment">// 不均分转盘比例</span>
        prizePercent<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        containerImg<span class="token operator">:</span> <span class="token string">'//yun.tuisnake.com/market-ui/872894c9-c2e9-4206-b821-59dde2eac08d.png'</span><span class="token punctuation">,</span>
        rotateImg<span class="token operator">:</span> <span class="token string">'//yun.tuisnake.com/market-ui/71a4c83b-89d8-4df0-aa36-d58fa38e9dfc.png'</span><span class="token punctuation">,</span>
        pointImg<span class="token operator">:</span> <span class="token string">'//yun.tuisnake.com/market-ui/4649d2aa-da5e-4beb-9ad1-9a1cfdec0c1e.png'</span><span class="token punctuation">,</span>
        btnImg<span class="token operator">:</span> <span class="token string">'//yun.tuisnake.com/market-ui/ef8281a6-f3c9-4945-b402-77141183be8b.png'</span><span class="token punctuation">,</span>
        btnDisableImg<span class="token operator">:</span> <span class="token string">'//yun.tuisnake.com/market-ui/9b369a5b-e045-414d-b808-0b096dedfe0f.png'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      prizeList<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          title<span class="token operator">:</span> <span class="token string">'一等奖'</span><span class="token punctuation">,</span>
          image<span class="token operator">:</span> <span class="token string">'//yun.tuisnake.com/mami-media/img/50d7608a-ociowk8pm5.png'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          title<span class="token operator">:</span> <span class="token string">'二等奖'</span><span class="token punctuation">,</span>
          image<span class="token operator">:</span> <span class="token string">'//yun.tuisnake.com/mami-media/img/691aa62e-d5xwaga1hn.png'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          title<span class="token operator">:</span> <span class="token string">'三等奖'</span><span class="token punctuation">,</span>
          image<span class="token operator">:</span> <span class="token string">'//yun.tuisnake.com/h5-mami/couponPrize/lucky.png'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          title<span class="token operator">:</span> <span class="token string">'四等奖'</span><span class="token punctuation">,</span>
          image<span class="token operator">:</span> <span class="token string">'//yun.tuisnake.com/mami-media/img/8ecabe26-iq6wlrhpam.png'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          title<span class="token operator">:</span> <span class="token string">'五等奖'</span><span class="token punctuation">,</span>
          image<span class="token operator">:</span> <span class="token string">'//yun.tuisnake.com/mami-media/img/570a6594-vhcb3jmuz8.png'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          title<span class="token operator">:</span> <span class="token string">'谢谢参与'</span><span class="token punctuation">,</span>
          image<span class="token operator">:</span> <span class="token string">'//yun.tuisnake.com/h5-mami/couponPrize/thanks.png'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token keyword">async</span> <span class="token function">clickStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> wheel <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>wheel<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>wheel<span class="token punctuation">.</span>isWaitStart<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">await</span> wheel<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// ... 一些操作</span>
      <span class="token comment">// 传入需要停止的奖品索引</span>
      <span class="token keyword">await</span> wheel<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">{</span> index<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 判断是否还可以继续玩</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">await</span> wheel<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// 不可玩就禁用</span>
        <span class="token keyword">await</span> wheel<span class="token punctuation">.</span><span class="token function">disable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></details> <h2 id="推荐出图规范"><a href="#推荐出图规范" class="header-anchor">#</a> 推荐出图规范</h2> <p>按照以下尺寸格式出图，可以更快速更方便地定制使用</p> <table><thead><tr><th>资源名</th> <th>对应参数</th> <th>宽x高</th> <th>说明</th> <th style="text-align:center;">示例</th></tr></thead> <tbody><tr><td>转盘底部</td> <td>containerImg</td> <td>750x750</td> <td>居中</td> <td style="text-align:center;"><img src="http://yun.tuisnake.com/market-ui/e7185b56-1757-40f7-a921-f8c818d4c1a7.png" alt=""></td></tr> <tr><td>转盘灯光</td> <td>lightImg</td> <td>750x750</td> <td>居中，旋转15度后闪烁播放</td> <td style="text-align:center;"><img src="http://yun.tuisnake.com/market-ui/d9d80c69-fe30-42a9-9794-e61f00193593.png" alt=""></td></tr> <tr><td>转盘</td> <td>rotateImg</td> <td>635x635</td> <td>居中</td> <td style="text-align:center;"><img src="http://yun.tuisnake.com/market-ui/c31f472a-5be9-4296-9b0f-353b6583bbd9.png" alt=""></td></tr> <tr><td>指针</td> <td>pointImg</td> <td>270x270</td> <td>圆圈居中</td> <td style="text-align:center;"><img src="http://yun.tuisnake.com/market-ui/0b7f2b9d-c63f-46fc-a851-edc2d47df9ab.png" alt=""></td></tr> <tr><td>开始按钮</td> <td>btnImg</td> <td>175x175</td> <td>居中，运行时会在0.95-1之间缩放</td> <td style="text-align:center;"><img src="http://yun.tuisnake.com/market-ui/db4540bd-8c5a-439d-bbb6-ea3f114c4902.png" alt=""></td></tr> <tr><td>开始按钮禁用</td> <td>btnDisableImg</td> <td>175x175</td> <td>居中</td> <td style="text-align:center;"><img src="http://yun.tuisnake.com/market-ui/11c22d77-2e83-405b-85e8-c8832dc78529.png" alt=""></td></tr></tbody></table> <h1 id="api"><a href="#api" class="header-anchor">#</a> API</h1> <p>支持基本的<a href="../../guide/resolution">屏幕适配</a>以及<a href="../../guide/basic-rule">基础玩法组件逻辑规范</a>涉及的API</p> <h2 id="基本类型定义"><a href="#基本类型定义" class="header-anchor">#</a> 基本类型定义</h2> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// 样式值定义</span>
<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">StyleValueType</span> <span class="token operator">=</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token comment">// 样式对象定义</span>
<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">StyleType</span> <span class="token operator">=</span> Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> StyleValueType<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token comment">// 转盘上奖品类型定义</span>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">PrizeType</span> <span class="token punctuation">{</span>
  title<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  image<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 奖品信息定义</span>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">PrizeInfoType</span> <span class="token punctuation">{</span>
  <span class="token comment">// 奖品信息</span>
  item<span class="token operator">:</span> PrizeType<span class="token punctuation">,</span>
  <span class="token comment">// 奖品在列表中的位置</span>
  index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token comment">// stop方法入参</span>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">WheelStopOptionType</span> <span class="token punctuation">{</span>
  <span class="token comment">// 命中目标索引</span>
  index<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="props"><a href="#props" class="header-anchor">#</a> Props</h2> <table><thead><tr><th>参数</th> <th>说明</th> <th>类型</th> <th>默认值</th></tr></thead> <tbody><tr><td>containerStyle</td> <td>底盘样式（包含整体位置）</td> <td><a href="#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89"><em>StyleType</em></a></td> <td><code>{ width: 750, height: 750, top: 0, left: 0 }</code></td></tr> <tr><td>containerImg</td> <td>底盘图片</td> <td><em>string</em></td> <td><code>//yun.tuisnake.com/market-ui/e7185b56-1757-40f7-a921-f8c818d4c1a7.png</code></td></tr> <tr><td>lightStyle</td> <td>底盘灯样式</td> <td><a href="#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89"><em>StyleType</em></a></td> <td><code>{ width: 750, height: 750 }</code></td></tr> <tr><td>lightImg</td> <td>底盘灯图片</td> <td><em>string</em></td> <td><code>//yun.tuisnake.com/market-ui/d9d80c69-fe30-42a9-9794-e61f00193593.png</code></td></tr> <tr><td>rotateStyle</td> <td>转盘样式</td> <td><a href="#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89"><em>StyleType</em></a></td> <td><code>{ width: 635, height: 635, top: 57.5 }</code></td></tr> <tr><td>rotateImg</td> <td>转盘图片</td> <td><em>string</em></td> <td><code>//yun.tuisnake.com/market-ui/c31f472a-5be9-4296-9b0f-353b6583bbd9.png</code></td></tr> <tr><td>pointStyle</td> <td>指针样式</td> <td><a href="#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89"><em>StyleType</em></a></td> <td><code>{ width: 270, height: 270, top: 240 }</code></td></tr> <tr><td>pointImg</td> <td>指针图片</td> <td><em>string</em></td> <td><code>//yun.tuisnake.com/market-ui/0b7f2b9d-c63f-46fc-a851-edc2d47df9ab.png</code></td></tr> <tr><td>btnStyle</td> <td>开始按钮样式</td> <td><a href="#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89"><em>StyleType</em></a></td> <td><code>{ width: 175, height: 175, top: 287.5 }</code></td></tr> <tr><td>btnImg</td> <td>开始按钮图片</td> <td><em>string</em></td> <td><code>//yun.tuisnake.com/market-ui/db4540bd-8c5a-439d-bbb6-ea3f114c4902.png</code></td></tr> <tr><td>btnDisableImg</td> <td>开始按钮禁用图片</td> <td><em>string</em></td> <td><code>//yun.tuisnake.com/market-ui/11c22d77-2e83-405b-85e8-c8832dc78529.png</code></td></tr> <tr><td>handStyle</td> <td>手势样式</td> <td><a href="#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89"><em>StyleType</em></a></td> <td><code>{ width: 160, height: 170, top: 390, left: 400 }</code></td></tr> <tr><td>handImg</td> <td>手势图片</td> <td><em>string</em></td> <td><code>//yun.tuisnake.com/tact/turnCircle/bcb4fc7e-18c1-46d7-bdae-2e91147196c1.png</code></td></tr> <tr><td>prizeImgStyle</td> <td>奖品图片样式</td> <td><a href="#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89"><em>StyleType</em></a></td> <td><code>{ width: 140, height: 140 }</code></td></tr> <tr><td>prizeTextStyle</td> <td>奖品标题样式</td> <td><a href="#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89"><em>StyleType</em></a></td> <td><code>{ width: 280, height: 50, 'font-size': 24 }</code></td></tr> <tr><td>prizeList</td> <td>奖品列表</td> <td><a href="#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89"><em>PrizeType[]</em></a></td> <td><code>[...]</code></td></tr> <tr><td>prizePercent</td> <td>奖品转盘划分比例，默认（不传）均分</td> <td><em>number[]</em></td> <td><code>undefined</code></td></tr> <tr><td>idleTurningSpeed</td> <td>转盘闲置每秒转动度数（闲置转速）</td> <td><em>number</em></td> <td><code>24</code></td></tr> <tr><td>maxTurningSpeed</td> <td>转盘运行每秒转动度数（最大转速）</td> <td><em>number</em></td> <td><code>900</code></td></tr> <tr><td>extraRotate</td> <td>初始转盘上奖品相对于转盘需要额外转动的度数</td> <td><em>number</em></td> <td><code>0</code></td></tr> <tr><td>rangePercent</td> <td>指针命中区域范围：0-1</td> <td><em>number[]</em></td> <td><code>[0.1, 0.9]</code></td></tr> <tr><td>forceUnitFunc</td> <td>自定义屏幕适配转换方法，详见<a href="../../guide/resolution">屏幕适配</a></td> <td><a href="/market-ui/guide/resolution/#基本类型定义"><em>addUnitFuncType</em></a></td> <td><code>undefined</code></td></tr></tbody></table> <h2 id="slots"><a href="#slots" class="header-anchor">#</a> Slots</h2> <table><thead><tr><th>名称</th> <th>作用域</th> <th>说明</th></tr></thead> <tbody><tr><td>light</td> <td>无</td> <td>底盘灯展示替换</td></tr> <tr><td>prize</td> <td><a href="#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89"><em>PrizeInfoType</em></a></td> <td>奖品展示替换</td></tr> <tr><td>hand</td> <td>无</td> <td>手势替换</td></tr> <tr><td>rotateBottom</td> <td>无</td> <td>转盘插槽，可做转盘灯</td></tr></tbody></table> <h2 id="events"><a href="#events" class="header-anchor">#</a> Events</h2> <table><thead><tr><th>名称</th> <th>参数</th> <th>说明</th></tr></thead> <tbody><tr><td>prizeClick</td> <td><a href="#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89"><em>PrizeInfoType</em></a></td> <td>奖品被点击时触发</td></tr> <tr><td>clickStart</td> <td>无</td> <td>开始按钮被点击时触发</td></tr> <tr><td>stateChange</td> <td><a href="/market-ui/guide/basic-rule/#基本类型定义"><em>StateChangeDataType</em></a></td> <td>状态变化事件，详见<a href="../../guide/basic-rule">基础玩法组件逻辑规范</a></td></tr></tbody></table> <h2 id="methods"><a href="#methods" class="header-anchor">#</a> Methods</h2> <p>对于<a href="../../guide/basic-rule">基础玩法组件</a>的<code>stop</code>方法入参做了限定，来确定命中目标</p> <table><thead><tr><th>名称</th> <th>入参</th> <th>出参</th> <th>说明</th></tr></thead> <tbody><tr><td>start</td> <td>无</td> <td><em>Promise</em></td> <td>开始方法，详见<a href="../../guide/basic-rule">基础玩法组件逻辑规范</a></td></tr> <tr><td>stop</td> <td><a href="#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89"><em>WheelStopOptionType</em></a></td> <td><em>Promise</em></td> <td>结束方法，详见<a href="../../guide/basic-rule">基础玩法组件逻辑规范</a></td></tr> <tr><td>reset</td> <td>无</td> <td><em>Promise</em></td> <td>重置方法，详见<a href="../../guide/basic-rule">基础玩法组件逻辑规范</a></td></tr> <tr><td>disable</td> <td>无</td> <td><em>Promise</em></td> <td>禁用方法，详见<a href="../../guide/basic-rule">基础玩法组件逻辑规范</a></td></tr> <tr><td>getState</td> <td>无</td> <td><a href="/market-ui/guide/basic-rule/#stateconstant"><em>StateConstant</em></a></td> <td>获取状态方法，详见<a href="../../guide/basic-rule">基础玩法组件逻辑规范</a></td></tr> <tr><td>addUnitFunc</td> <td><a href="#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89"><em>StyleValueType</em></a></td> <td><em>string</em></td> <td>单位转换方法（仅处理数字），优先使用<code>forceUnitFunc</code>，若未定义则按照<code>750=100vw</code>来转换，详见<a href="../../guide/resolution">屏幕适配</a></td></tr> <tr><td>addUnitForAll</td> <td><a href="#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89"><em>StyleType</em></a></td> <td><a href="#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89"><em>StyleType</em></a></td> <td>对样式对象中所有数字样式进行转换处理，详见<a href="../../guide/resolution">屏幕适配</a></td></tr></tbody></table> <h2 id="state"><a href="#state" class="header-anchor">#</a> State</h2> <p>暴露了部分<code>computed</code>的数据，方便外部判断</p> <table><thead><tr><th>参数</th> <th>说明</th> <th>类型</th> <th>示例</th></tr></thead> <tbody><tr><td>isWaitStart</td> <td>是否为等待开始状态，详见<a href="../../guide/basic-rule">基础玩法组件逻辑规范</a></td> <td><em>boolean</em></td> <td><code>true</code></td></tr> <tr><td>isDisable</td> <td>是否为禁用状态，详见<a href="../../guide/basic-rule">基础玩法组件逻辑规范</a></td> <td><em>boolean</em></td> <td><code>false</code></td></tr></tbody></table></div> </section></div> <div class="tuia-doc-footer" data-v-7177873e><div data-v-7177873e><div class="footer" data-v-0cb7ee9a><span class="prefix" data-v-0cb7ee9a>上次更新：</span> <span class="time" data-v-0cb7ee9a></span></div></div></div></div> <div class="tuia-doc-preview" data-v-b0cc9f66><iframe src="/#/Wheel/" frameborder="0" style="height:-90px;display:block;width:100%;" data-v-b0cc9f66></iframe></div></div><div class="global-ui"></div></div>
    <script src="/market-ui/assets/js/app.b0f98d71.js" defer></script><script src="/market-ui/assets/js/2.4653ba6f.js" defer></script><script src="/market-ui/assets/js/17.26d8c81d.js" defer></script>
  </body>
</html>
